{"location":"drizzle-client.ts:resetConnection","message":"Resetting connection","data":{"hasSql":true,"hasClient":true},"timestamp":1765776385366,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":false,"hasSql":false,"isInitializing":false},"timestamp":1765776390780,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Starting initialization","data":{"databaseUrl":"postgresql://admin:****@localhost:5432/mic2e"},"timestamp":1765776390780,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Postgres client created","data":{"poolSize":20,"idleTimeout":30},"timestamp":1765776390781,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":true,"hasSql":true,"isInitializing":true},"timestamp":1765776390787,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Returning existing client","data":{"sqlPoolSize":20},"timestamp":1765776390787,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":true,"hasSql":true,"isInitializing":true},"timestamp":1765776390787,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Returning existing client","data":{"sqlPoolSize":20},"timestamp":1765776390787,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":true,"hasSql":true,"isInitializing":true},"timestamp":1765776390787,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Returning existing client","data":{"sqlPoolSize":20},"timestamp":1765776390788,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Connection test failed","data":{"error":"read ECONNRESET","code":"ECONNRESET"},"timestamp":1765776390815,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"drizzle-client.ts:resetConnection","message":"Resetting connection","data":{"hasSql":true,"hasClient":true},"timestamp":1765776390816,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:proxy.get","message":"Property access","data":{"prop":"query","hasClient":false,"hasSql":false},"timestamp":1765776391545,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":false,"hasSql":false,"isInitializing":false},"timestamp":1765776391545,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Starting initialization","data":{"databaseUrl":"postgresql://admin:****@localhost:5432/mic2e"},"timestamp":1765776391546,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Postgres client created","data":{"poolSize":20,"idleTimeout":30},"timestamp":1765776391546,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:proxy.get","message":"Property access","data":{"prop":"select","hasClient":true,"hasSql":true},"timestamp":1765776391554,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":true,"hasSql":true,"isInitializing":true},"timestamp":1765776391555,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Returning existing client","data":{"sqlPoolSize":20},"timestamp":1765776391555,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:proxy.get","message":"Returning function","data":{"prop":"select","isFunction":true},"timestamp":1765776391555,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2"}
{"location":"drizzle-client.ts:proxy.get","message":"Property access","data":{"prop":"session","hasClient":true,"hasSql":true},"timestamp":1765776391555,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":true,"hasSql":true,"isInitializing":true},"timestamp":1765776391555,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Returning existing client","data":{"sqlPoolSize":20},"timestamp":1765776391556,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:proxy.get","message":"Property access","data":{"prop":"dialect","hasClient":true,"hasSql":true},"timestamp":1765776391556,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":true,"hasSql":true,"isInitializing":true},"timestamp":1765776391556,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Returning existing client","data":{"sqlPoolSize":20},"timestamp":1765776391556,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Connection test failed","data":{"error":"read ECONNRESET","code":"ECONNRESET"},"timestamp":1765776391574,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"drizzle-client.ts:resetConnection","message":"Resetting connection","data":{"hasSql":true,"hasClient":true},"timestamp":1765776391574,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"chats/[chatId]/page.tsx","message":"Before query","data":{"chatId":"e3b8d976-f1ce-4e45-ade7-2b435bd7c1aa","userId":"8fb05a0c-423e-4eb7-8580-aa8fb6bc210b"},"timestamp":1765776397155,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H4"}
{"location":"drizzle-client.ts:proxy.get","message":"Property access","data":{"prop":"query","hasClient":false,"hasSql":false},"timestamp":1765776397155,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":false,"hasSql":false,"isInitializing":false},"timestamp":1765776397156,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Starting initialization","data":{"databaseUrl":"postgresql://admin:****@localhost:5432/mic2e"},"timestamp":1765776397156,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Postgres client created","data":{"poolSize":20,"idleTimeout":30},"timestamp":1765776397157,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:proxy.get","message":"Property access","data":{"prop":"select","hasClient":true,"hasSql":true},"timestamp":1765776397165,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":true,"hasSql":true,"isInitializing":true},"timestamp":1765776397165,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Returning existing client","data":{"sqlPoolSize":20},"timestamp":1765776397165,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:proxy.get","message":"Returning function","data":{"prop":"select","isFunction":true},"timestamp":1765776397166,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2"}
{"location":"drizzle-client.ts:proxy.get","message":"Property access","data":{"prop":"session","hasClient":true,"hasSql":true},"timestamp":1765776397166,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":true,"hasSql":true,"isInitializing":true},"timestamp":1765776397166,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Returning existing client","data":{"sqlPoolSize":20},"timestamp":1765776397166,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:proxy.get","message":"Property access","data":{"prop":"dialect","hasClient":true,"hasSql":true},"timestamp":1765776397166,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Entry","data":{"hasClient":true,"hasSql":true,"isInitializing":true},"timestamp":1765776397166,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H3"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Returning existing client","data":{"sqlPoolSize":20},"timestamp":1765776397167,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"drizzle-client.ts:initializeDatabase","message":"Connection test failed","data":{"error":"read ECONNRESET","code":"ECONNRESET"},"timestamp":1765776397202,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"drizzle-client.ts:resetConnection","message":"Resetting connection","data":{"hasSql":true,"hasClient":true},"timestamp":1765776397202,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"chats/[chatId]/page.tsx","message":"Query error","data":{"error":"Failed query: select \"chats\".\"id\", \"chats\".\"user_id\", \"chats\".\"settings_id\", \"chats\".\"title\", \"chats\".\"failed\", \"chats\".\"createdAt\", \"chats\".\"updatedAt\", \"chats_cycles\".\"data\" as \"cycles\" from \"chats\" \"chats\" left join lateral (select coalesce(json_agg(json_build_array(\"chats_cycles\".\"id\", \"chats_cycles\".\"chat_id\", \"chats_cycles\".\"request_id\", \"chats_cycles\".\"response_id\", \"chats_cycles\".\"context_id\", \"chats_cycles\".\"json_data\", \"chats_cycles\".\"createdAt\", \"chats_cycles\".\"updatedAt\", \"chats_cycles_request\".\"data\", \"chats_cycles_response\".\"data\", \"chats_cycles_context\".\"data\")), '[]'::json) as \"data\" from \"cycles\" \"chats_cycles\" left join lateral (select json_build_array(\"chats_cycles_request\".\"id\", \"chats_cycles_request\".\"text\", \"chats_cycles_request\".\"createdAt\", \"chats_cycles_request\".\"updatedAt\", \"chats_cycles_request_attachments\".\"data\") as \"data\" from (select * from \"messages\" \"chats_cycles_request\" where \"chats_cycles_request\".\"id\" = \"chats_cycles\".\"request_id\" limit $1) \"chats_cycles_request\" left join lateral (select coalesce(json_agg(json_build_array(\"chats_cycles_request_attachments\".\"id\", \"chats_cycles_request_attachments\".\"file_id\", \"chats_cycles_request_attachments\".\"filename\", \"chats_cycles_request_attachments\".\"message_id\", \"chats_cycles_request_attachments\".\"thumbnail_id\", \"chats_cycles_request_attachments\".\"createdAt\", \"chats_cycles_request_attachments\".\"updatedAt\", \"chats_cycles_request_attachments_thumbnail\".\"data\")), '[]'::json) as \"data\" from \"attachments\" \"chats_cycles_request_attachments\" left join lateral (select json_build_array(\"chats_cycles_request_attachments_thumbnail\".\"id\", \"chats_cycles_request_attachments_thumbnail\".\"file_id\", \"chats_cycles_request_attachments_thumbnail\".\"width\", \"chats_cycles_request_attachments_thumbnail\".\"height\", \"chats_cycles_request_attachments_thumbnail\".\"createdAt\", \"chats_cycles_request_attachments_thumbnail\".\"updatedAt\") as \"data\" from (select * from \"thumbnails\" \"chats_cycles_request_attachments_thumbnail\" where \"chats_cycles_request_attachments_thumbnail\".\"id\" = \"chats_cycles_request_attachments\".\"thumbnail_id\" limit $2) \"chats_cycles_request_attachments_thumbnail\") \"chats_cycles_request_attachments_thumbnail\" on true where \"chats_cycles_request_attachments\".\"message_id\" = \"chats_cycles_request\".\"id\") \"chats_cycles_request_attachments\" on true) \"chats_cycles_request\" on true left join lateral (select json_build_array(\"chats_cycles_response\".\"id\", \"chats_cycles_response\".\"text\", \"chats_cycles_response\".\"createdAt\", \"chats_cycles_response\".\"updatedAt\", \"chats_cycles_response_attachments\".\"data\") as \"data\" from (select * from \"messages\" \"chats_cycles_response\" where \"chats_cycles_response\".\"id\" = \"chats_cycles\".\"response_id\" limit $3) \"chats_cycles_response\" left join lateral (select coalesce(json_agg(json_build_array(\"chats_cycles_response_attachments\".\"id\", \"chats_cycles_response_attachments\".\"file_id\", \"chats_cycles_response_attachments\".\"filename\", \"chats_cycles_response_attachments\".\"message_id\", \"chats_cycles_response_attachments\".\"thumbnail_id\", \"chats_cycles_response_attachments\".\"createdAt\", \"chats_cycles_response_attachments\".\"updatedAt\", \"chats_cycles_response_attachments_thumbnail\".\"data\")), '[]'::json) as \"data\" from \"attachments\" \"chats_cycles_response_attachments\" left join lateral (select json_build_array(\"chats_cycles_response_attachments_thumbnail\".\"id\", \"chats_cycles_response_attachments_thumbnail\".\"file_id\", \"chats_cycles_response_attachments_thumbnail\".\"width\", \"chats_cycles_response_attachments_thumbnail\".\"height\", \"chats_cycles_response_attachments_thumbnail\".\"createdAt\", \"chats_cycles_response_attachments_thumbnail\".\"updatedAt\") as \"data\" from (select * from \"thumbnails\" \"chats_cycles_response_attachments_thumbnail\" where \"chats_cycles_response_attachments_thumbnail\".\"id\" = \"chats_cycles_response_attachments\".\"thumbnail_id\" limit $4) \"chats_cycles_response_attachments_thumbnail\") \"chats_cycles_response_attachments_thumbnail\" on true where \"chats_cycles_response_attachments\".\"message_id\" = \"chats_cycles_response\".\"id\") \"chats_cycles_response_attachments\" on true) \"chats_cycles_response\" on true left join lateral (select json_build_array(\"chats_cycles_context\".\"id\", \"chats_cycles_context\".\"file_id\", \"chats_cycles_context\".\"createdAt\", \"chats_cycles_context\".\"updatedAt\") as \"data\" from (select * from \"contexts\" \"chats_cycles_context\" where \"chats_cycles_context\".\"id\" = \"chats_cycles\".\"context_id\" limit $5) \"chats_cycles_context\") \"chats_cycles_context\" on true where \"chats_cycles\".\"chat_id\" = \"chats\".\"id\") \"chats_cycles\" on true where (\"chats\".\"id\" = $6 and \"chats\".\"user_id\" = $7) limit $8\nparams: 1,1,1,1,1,e3b8d976-f1ce-4e45-ade7-2b435bd7c1aa,8fb05a0c-423e-4eb7-8580-aa8fb6bc210b,1"},"timestamp":1765776397206,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"chat-list.tsx","message":"Before query","data":{"userId":"8fb05a0c-423e-4eb7-8580-aa8fb6bc210b"},"timestamp":1765776483303,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1,H2,H4"}
{"location":"chat-list.tsx","message":"Query error","data":{"error":"Failed query: select \"id\", \"user_id\", \"settings_id\", \"title\", \"failed\", \"createdAt\", \"updatedAt\" from \"chats\" where \"chats\".\"user_id\" = $1 order by \"chats\".\"updatedAt\" desc\nparams: 8fb05a0c-423e-4eb7-8580-aa8fb6bc210b"},"timestamp":1765776483339,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
